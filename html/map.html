<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>TUChome</title>
    <link rel="stylesheet" href="style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="bootstrap.min.css" rel="stylesheet" />
  </head>
  <body>
    <div class="header bg-dark">
      <div class="custom-icon">
        <img src="../images/TUC_logo.png" alt="Custom Icon" />
      </div>
      <div class="search-bar">
        <input
          id="searchInput"
          class="form-control"
          type="text"
          placeholder="Search..."
        />
        <ul id="suggestions" class="list-group"></ul>
      </div>
      <div class="window-controls">
        <button id="minimize-btn" class="window-controls-btn">&#128469;</button>
        <button id="maximize-btn" class="window-controls-btn">&#128470;</button>
        <button id="close-btn" class="window-controls-btn">&#128473;</button>
      </div>
    </div>
    <div class="content">
      <svg
        viewBox="0 0 508 285.75"
        version="1.1"
        id="full_map"
        xml:space="preserve"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:svg="http://www.w3.org/2000/svg"
      >
        <g inkscape:label="Στρώση 1" inkscape:groupmode="layer" id="layer1">
          <image
            width="508"
            height="285.75"
            xlink:href="../images/TUChome.png"
            id="image1"
          />
          <g id="g2">
            <path
              class="mask"
              d="m 290.1197,150.79343 5.35133,38.03282 21.21429,0.19112 36.50387,-4.58687 43.57529,-7.83591 33.06371,-11.46718 18.53861,-8.02703 20.4498,-8.40926 13.18726,-11.08494 9.74709,-8.79151 3.63128,-5.35135 -37.65058,-21.40541 -4.20463,5.35135 -4.39576,-3.63127 -5.35136,5.73359 -5.35133,-3.82239 -5.35135,5.35135 -3.82241,10.12934 -10.32044,4.20463 -4.77801,-6.49806 -6.8803,2.10231 -2.86679,6.49807 -0.9556,0.19112 -4.96911,-6.30695 -7.45368,4.77799 -1.33784,7.26255 -5.54247,-8.02703 -9.17373,5.7336 -0.76449,7.07143 -5.54247,2.10231 -1.91119,-4.77799 -9.36487,2.48456 0.95559,3.63127 h -5.92471 l -4.77797,-9.55598 -8.60039,5.35135 -0.76449,5.92471 -4.58687,0.38224 -2.86681,-8.60039 -8.9826,5.35135 -0.19114,5.54247 -5.54246,0.19112 -2.86679,-9.17374 -9.36488,4.20463 v 8.21815 z"
              id="path1"
            />
            <path
              class="mask"
              d="m 485.29501,117.77628 2.838,-5.81111 -6.75711,-7.7031 -5.27053,7.97338 -0.20272,0.33786 z"
              id="path2"
            />
          </g>
          <a xlink:href="#" onclick="window.electronAPI.toComplex(3)">
            <text x="115.81853" y="105.30695" id="occupancy-3"></text>
            <path
              class="mask"
              d="m 115.81853,105.30695 -4.77799,24.46332 4.58687,17.58301 10.51158,-0.76448 0.90782,-1.86341 29.86246,0.33445 c 0,0 0.47779,1.72008 0.47779,1.52896 0,-0.19112 14.0473,0.0478 14.0473,0.0478 l -0.0956,-2.29344 13.0917,-0.28667 13.28229,-0.23157 3.61505,0.0676 -0.0338,1.95956 15.13591,-0.16892 0.16893,-1.58792 23.48092,-0.50679 5.33811,0.13515 0.60814,1.8582 22.46736,-0.13514 -2.22983,-41.99539 -26.65677,0.33786 -0.0338,9.02073 h -13.9872 l -0.27028,-8.98695 -27.02841,0.40543 -1.92577,11.68978 -10.81136,0.13515 -0.81086,-12.16279 -27.2649,0.33786 -1.38521,8.48016 -11.96007,-0.10136 -0.30407,-8.3788 z"
              id="complex-3"
            />
          </a>
          <a xlink:href="#" onclick="window.electronAPI.toComplex(2)">
            <text x="82.233925" y="146.02096" id="occupancy-2"></text>
            <path
              class="mask"
              d="m 82.233925,146.02096 -7.36524,28.4474 3.648834,16.75761 31.352951,0.473 138.04758,-1.68928 -2.5677,-46.151 -28.37982,0.54057 -0.13515,3.64883 -15.27104,-0.0676 -0.54057,-3.78398 -29.52854,0.27029 0.20272,2.77041 -0.473,2.43256 -13.91963,-0.0676 -0.74328,-4.12184 -29.32411,-0.51611 -1.95897,3.96574 h -12.75724 l -0.86004,-4.01352 z"
              id="complex-2"
            />
          </a>
          <a xlink:href="#" onclick="window.electronAPI.toComplex(1)">
            <text x="41.759653" y="194.6554" id="occupancy-1"></text>
            <path
              class="mask"
              d="m 41.759653,194.6554 -10.033783,32.96815 4.586872,17.77413 187.106178,-2.10232 0.86003,-51.02895 -34.78378,0.76448 -1.14672,12.51833 -14.62065,-0.47779 -1.33784,-12.70946 -32.20367,0.57336 -1.52896,10.79826 -13.18725,0.28668 -3.44016,-10.7027 -31.630308,0.19112 -2.197875,13.66505 -12.040542,-0.76448 -2.962354,-12.70946 z"
              id="complex-1"
            />
          </a>
        </g>
      </svg>
    </div>
    <!-- Include Bootstrap JS (Popper.js and Bootstrap) -->
    <script src="../scripts/popper.min.js"></script>
    <script src="../scripts/bootstrap.min.js"></script>
    <script src="../scripts/header.js"></script>
    <script src="../scripts/searchbar.js"></script>
    <script>
      const occupancy1 = document.getElementById("occupancy-1");
      const occupancy2 = document.getElementById("occupancy-2");
      const occupancy3 = document.getElementById("occupancy-3");

      window.electronAPI.occupancyRequest();
      window.electronAPI.occupancyList((event, data) => {
        occupancy1.innerHTML =
          data["occupancy"]["1"] + "/" + data["positions"]["1"];
        occupancy2.innerHTML =
          data["occupancy"]["2"] + "/" + data["positions"]["2"];
        occupancy3.innerHTML =
          data["occupancy"]["3"] + "/" + data["positions"]["3"];
      });
    </script>
  </body>
</html>
